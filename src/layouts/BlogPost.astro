---
import type { BlogPostFrontmatter } from "@types";
import type { MarkdownLayoutProps } from "astro";

import Base from "./Base.astro";

type Props=MarkdownLayoutProps<BlogPostFrontmatter>
const formatDate=(date:string):string=>{
    return new Date(date).toLocaleDateString("en-IN",{
        year:'numeric',
        month:'long', 
        day:'numeric'
    })
};
const { title , date , draft ,tags}=Astro.props.frontmatter;

---
<Base title="blog-post">
    <div class="">
        {draft &&
        <p class="bg-red-700 text-white inline-block px-2">DRAFT</p>}
        {tags &&
        <div class="">
            {tags.map(tag=>(<a class="mr-2 uppercase text-blue-500" href={`/posts/tag/${tag.toLocaleLowerCase()}`}>#<span class="font-bold">{tag}</span></a>))}
        </div>}
        <h1 class="">{title}</h1>
        <p>{formatDate(date)}</p>
    </div>
    <div class="prose">
        <slot/>
    </div>
    
</Base>  
  